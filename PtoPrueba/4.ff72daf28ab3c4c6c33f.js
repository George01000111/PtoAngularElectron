(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{S3A6:function(t,e,i){"use strict";i.r(e),i.d(e,"RutasxModule",function(){return ct});var a=i("ofXK"),r=i("3Pt+"),o=i("hctd"),c=i("tyNb"),n=i("fXoL"),s=i("AytR"),u=i("tk/3");let b=(()=>{class t{constructor(t){this.http=t}getAllRuta(){return this.http.get(s.a.url_api+"/api/Ruta/GetRuta")}}return t.\u0275fac=function(e){return new(e||t)(n.Vb(u.a))},t.\u0275prov=n.Hb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),l=(()=>{class t{constructor(t){this.http=t}createRutaxDias(t){return this.http.post(s.a.url_api+"/api/RutasXDias",t)}getRutaxDias(t){return this.http.get(`${s.a.url_api}/api/RutasXDias/GetXCodruta/${t}`)}getBusqRutaxDias(t){return this.http.get(`${s.a.url_api}/api/RutasXDias/GetRutaXDias/${t}`)}getAllRutaxDias(){return this.http.get(s.a.url_api+"/api/RutasXDias/GetRutaXDias")}getCambiarRutaXDias(t,e){return this.http.get(`${s.a.url_api}/api/RutasXDias/CambiarRutaXDias/${t}/${e}`)}}return t.\u0275fac=function(e){return new(e||t)(n.Vb(u.a))},t.\u0275prov=n.Hb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),m=(()=>{class t{constructor(){}getCodruta(){return this.codruta}modificarCodruta(t){this.codruta=t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=n.Hb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var d=i("Wp6s"),f=i("kmnG"),h=i("d3UM"),g=i("bTqV"),v=i("bSwM"),R=i("FKr1");function p(t,e){if(1&t&&(n.Rb(0,"mat-option",13),n.vc(1),n.Qb()),2&t){const t=e.$implicit;n.hc("value",t.codigo),n.Ab(1),n.xc(" ",t.descripcion," ")}}const Q=function(){return["listar"]};let x=(()=>{class t{constructor(t,e,i,a){this.rutaService=t,this.formBuilder=e,this.rutaxdiasService=i,this.miservicio=a,this.Arrayrutaxdias=[],this.rutas=[],this.searchFiel=new r.d,this.buildForm(),this.codruta=this.miservicio.getCodruta(),console.log("Constructor CodRuta->",this.codruta)}ngOnInit(){this.getRutas(),console.log("ngOnInit CodRuta->",this.codruta),this.getRutaxdias()}buildForm(){this.form=this.formBuilder.group({lunes:[!1],martes:[!1],miercoles:[!1],jueves:[!1],viernes:[!1],sabado:[!1],domingo:[!1],codruta:["",r.o.required]})}get codrutaField(){return this.form.get("codruta")}get lunesField(){return this.form.get("lunes")}get martesField(){return this.form.get("martes")}get miercolesField(){return this.form.get("miercoles")}get juevesField(){return this.form.get("jueves")}get viernesField(){return this.form.get("viernes")}get sabadoField(){return this.form.get("sabado")}get domingoField(){return this.form.get("domingo")}procesar(){if(this.form.valid){console.log(this.form.value),console.log("procesar",this.form.value.lunes);var t=Number(this.form.value.lunes),e=Number(this.form.value.martes),i=Number(this.form.value.miercoles),a=Number(this.form.value.jueves),r=Number(this.form.value.viernes),o=Number(this.form.value.sabado),c=Number(this.form.value.domingo),n=String(t),s=String(e),u=String(i),b=String(a),l=String(r),m=String(o),d=String(c);console.log("convertir",n+s+u+b+l+m+d),this.createRutaxdias(),this.diasVisita=n+s+u+b+l+m+d,this.CambiarRutaXDias()}}onSelect(t){console.log("CodRuta->",t.value),this.codruta=t.value,this.codruta&&this.getRutaxdias()}getRutas(){this.rutaService.getAllRuta().subscribe(t=>{this.rutas=t})}getRutaxdias(){this.rutaxdiasService.getRutaxDias(this.codruta).subscribe(t=>{console.log(t),this.form.patchValue(t)})}createRutaxdias(){this.rutaxdiasService.createRutaxDias(this.form.value).subscribe(t=>{console.log(t)})}CambiarRutaXDias(){this.rutaxdiasService.getCambiarRutaXDias(this.codruta,this.diasVisita).subscribe(t=>{console.log(t)})}}return t.\u0275fac=function(e){return new(e||t)(n.Lb(b),n.Lb(r.c),n.Lb(l),n.Lb(m))},t.\u0275cmp=n.Fb({type:t,selectors:[["app-rutasx-form"]],decls:36,vars:4,consts:[[3,"formGroup"],["formControlName","codruta",3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],["mat-raised-button","",3,"routerLink"],[1,"example-section"],["color","primary","formControlName","lunes"],["color","primary","formControlName","martes"],["color","primary","formControlName","miercoles"],["color","primary","formControlName","jueves"],["color","primary","formControlName","viernes"],["color","primary","formControlName","sabado"],["color","primary","formControlName","domingo"],["mat-raised-button","","color","warn",3,"click"],[3,"value"]],template:function(t,e){1&t&&(n.Rb(0,"form",0),n.Rb(1,"mat-card"),n.Rb(2,"mat-card-header"),n.Mb(3,"mat-card-title"),n.Qb(),n.Rb(4,"mat-card-content"),n.Rb(5,"mat-form-field"),n.Rb(6,"mat-label"),n.vc(7,"Rutas"),n.Qb(),n.Rb(8,"mat-select",1),n.Yb("selectionChange",function(t){return e.onSelect(t)}),n.uc(9,p,2,2,"mat-option",2),n.Qb(),n.Qb(),n.Rb(10,"a",3),n.vc(11,"......"),n.Qb(),n.Rb(12,"section",4),n.Rb(13,"mat-checkbox",5),n.vc(14,"Lunes"),n.Qb(),n.Qb(),n.Rb(15,"section",4),n.Rb(16,"mat-checkbox",6),n.vc(17,"Martes"),n.Qb(),n.Qb(),n.Rb(18,"section",4),n.Rb(19,"mat-checkbox",7),n.vc(20,"Miercoles"),n.Qb(),n.Qb(),n.Rb(21,"section",4),n.Rb(22,"mat-checkbox",8),n.vc(23,"Jueves"),n.Qb(),n.Qb(),n.Rb(24,"section",4),n.Rb(25,"mat-checkbox",9),n.vc(26,"Viernes"),n.Qb(),n.Qb(),n.Rb(27,"section",4),n.Rb(28,"mat-checkbox",10),n.vc(29,"Sabado"),n.Qb(),n.Qb(),n.Rb(30,"section",4),n.Rb(31,"mat-checkbox",11),n.vc(32,"Domingo"),n.Qb(),n.Qb(),n.Qb(),n.Rb(33,"mat-card-actions"),n.Rb(34,"button",12),n.Yb("click",function(){return e.procesar()}),n.vc(35,"Procesar"),n.Qb(),n.Qb(),n.Qb(),n.Qb()),2&t&&(n.hc("formGroup",e.form),n.Ab(9),n.hc("ngForOf",e.rutas),n.Ab(1),n.hc("routerLink",n.ic(3,Q)))},directives:[r.p,r.l,r.g,d.a,d.d,d.f,d.c,f.b,f.e,h.a,r.k,r.f,a.j,g.a,c.c,v.a,d.b,g.b,R.i],styles:[""]}),t})();var D=i("qFsG"),C=i("+0xr");function A(t,e){1&t&&(n.Rb(0,"th",17),n.vc(1," Ruta "),n.Qb())}function y(t,e){if(1&t&&(n.Rb(0,"td",18),n.vc(1),n.Qb()),2&t){const t=e.$implicit;n.Ab(1),n.xc(" ",t.ruta.descripcion," ")}}function O(t,e){1&t&&(n.Rb(0,"th",17),n.vc(1," Lunes "),n.Qb())}function w(t,e){1&t&&(n.Pb(0),n.vc(1," si "),n.Ob())}function P(t,e){1&t&&(n.Pb(0),n.vc(1," no "),n.Ob())}function S(t,e){if(1&t&&(n.Rb(0,"td",18),n.uc(1,w,2,0,"ng-container",19),n.uc(2,P,2,0,"ng-container",19),n.Qb()),2&t){const t=e.$implicit;n.Ab(1),n.hc("ngIf",!0===t.lunes),n.Ab(1),n.hc("ngIf",!1===t.lunes)}}function k(t,e){1&t&&(n.Rb(0,"th",17),n.vc(1," Martes "),n.Qb())}function I(t,e){1&t&&(n.Pb(0),n.vc(1," si "),n.Ob())}function F(t,e){1&t&&(n.Pb(0),n.vc(1," no "),n.Ob())}function $(t,e){if(1&t&&(n.Rb(0,"td",18),n.uc(1,I,2,0,"ng-container",19),n.uc(2,F,2,0,"ng-container",19),n.Qb()),2&t){const t=e.$implicit;n.Ab(1),n.hc("ngIf",!0===t.martes),n.Ab(1),n.hc("ngIf",!1===t.martes)}}function N(t,e){1&t&&(n.Rb(0,"th",17),n.vc(1," Miercoles "),n.Qb())}function X(t,e){1&t&&(n.Pb(0),n.vc(1," si "),n.Ob())}function L(t,e){1&t&&(n.Pb(0),n.vc(1," no "),n.Ob())}function j(t,e){if(1&t&&(n.Rb(0,"td",18),n.uc(1,X,2,0,"ng-container",19),n.uc(2,L,2,0,"ng-container",19),n.Qb()),2&t){const t=e.$implicit;n.Ab(1),n.hc("ngIf",!0===t.miercoles),n.Ab(1),n.hc("ngIf",!1===t.miercoles)}}function M(t,e){1&t&&(n.Rb(0,"th",17),n.vc(1," Jueves "),n.Qb())}function G(t,e){1&t&&(n.Pb(0),n.vc(1," si "),n.Ob())}function V(t,e){1&t&&(n.Pb(0),n.vc(1," no "),n.Ob())}function q(t,e){if(1&t&&(n.Rb(0,"td",18),n.uc(1,G,2,0,"ng-container",19),n.uc(2,V,2,0,"ng-container",19),n.Qb()),2&t){const t=e.$implicit;n.Ab(1),n.hc("ngIf",!0===t.jueves),n.Ab(1),n.hc("ngIf",!1===t.jueves)}}function B(t,e){1&t&&(n.Rb(0,"th",17),n.vc(1," Viernes "),n.Qb())}function H(t,e){1&t&&(n.Pb(0),n.vc(1," si "),n.Ob())}function J(t,e){1&t&&(n.Pb(0),n.vc(1," no "),n.Ob())}function _(t,e){if(1&t&&(n.Rb(0,"td",18),n.uc(1,H,2,0,"ng-container",19),n.uc(2,J,2,0,"ng-container",19),n.Qb()),2&t){const t=e.$implicit;n.Ab(1),n.hc("ngIf",!0===t.viernes),n.Ab(1),n.hc("ngIf",!1===t.viernes)}}function Y(t,e){1&t&&(n.Rb(0,"th",17),n.vc(1," Sabado "),n.Qb())}function K(t,e){1&t&&(n.Pb(0),n.vc(1," si "),n.Ob())}function z(t,e){1&t&&(n.Pb(0),n.vc(1," no "),n.Ob())}function E(t,e){if(1&t&&(n.Rb(0,"td",18),n.uc(1,K,2,0,"ng-container",19),n.uc(2,z,2,0,"ng-container",19),n.Qb()),2&t){const t=e.$implicit;n.Ab(1),n.hc("ngIf",!0===t.sabado),n.Ab(1),n.hc("ngIf",!1===t.sabado)}}function T(t,e){1&t&&(n.Rb(0,"th",17),n.vc(1," Domingo "),n.Qb())}function U(t,e){1&t&&(n.Pb(0),n.vc(1," si "),n.Ob())}function W(t,e){1&t&&(n.Pb(0),n.vc(1," no "),n.Ob())}function Z(t,e){if(1&t&&(n.Rb(0,"td",18),n.uc(1,U,2,0,"ng-container",19),n.uc(2,W,2,0,"ng-container",19),n.Qb()),2&t){const t=e.$implicit;n.Ab(1),n.hc("ngIf",!0===t.domingo),n.Ab(1),n.hc("ngIf",!1===t.domingo)}}function tt(t,e){1&t&&(n.Rb(0,"th",17),n.vc(1," Actions "),n.Qb())}function et(t,e){if(1&t){const t=n.Sb();n.Rb(0,"td",18),n.Rb(1,"button",2),n.Yb("click",function(){n.mc(t);const i=e.$implicit;return n.cc().editRutaxDias(i.ruta.codigo)}),n.vc(2,"Editar"),n.Qb(),n.Qb()}}function it(t,e){1&t&&n.Mb(0,"tr",20)}function at(t,e){1&t&&n.Mb(0,"tr",21)}const rt=[{path:"",component:x},{path:"listar",component:(()=>{class t{constructor(t,e,i){this.rutaxdiasService=t,this.miservicio=e,this.router=i,this.Arrayrutaxdias=[],this.displayedColumns=["ruta","lunes","martes","miercoles","jueves","viernes","sabado","domingo","actions"],this.searchFiel=new r.d}ngOnInit(){this.getListaRutaxDias(),""!=this.searchFiel.value&&this.searchFiel.valueChanges.subscribe(t=>{this.BusqRutaxDias(t)})}getListaRutaxDias(){this.rutaxdiasService.getAllRutaxDias().subscribe(t=>{console.log(t),this.Arrayrutaxdias=t})}BusqRutaxDias(t){this.rutaxdiasService.getBusqRutaxDias(t).subscribe(t=>{console.log(t),this.Arrayrutaxdias=t})}editRutaxDias(t){this.miservicio.modificarCodruta(t),this.router.navigate([""])}regresarRutaxDias(){this.miservicio.modificarCodruta(void 0),this.router.navigate([""])}}return t.\u0275fac=function(e){return new(e||t)(n.Lb(l),n.Lb(m),n.Lb(c.b))},t.\u0275cmp=n.Fb({type:t,selectors:[["app-rutasx-list"]],decls:40,vars:4,consts:[["appearance","fill"],["matInput","","type","search",3,"formControl"],["mat-raised-button","","color","warn",3,"click"],["mat-table","",1,"mat-elevation-z8","products-table",3,"dataSource"],["matColumnDef","ruta"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","lunes"],["matColumnDef","martes"],["matColumnDef","miercoles"],["matColumnDef","jueves"],["matColumnDef","viernes"],["matColumnDef","sabado"],["matColumnDef","domingo"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],[4,"ngIf"],["mat-header-row",""],["mat-row",""]],template:function(t,e){1&t&&(n.Rb(0,"mat-card"),n.Rb(1,"mat-card-header"),n.Mb(2,"mat-card-title"),n.Qb(),n.Rb(3,"mat-card-content"),n.Rb(4,"mat-form-field",0),n.Rb(5,"mat-label"),n.vc(6,"Buscar: "),n.Qb(),n.Mb(7,"input",1),n.Qb(),n.Rb(8,"button",2),n.Yb("click",function(){return e.regresarRutaxDias()}),n.vc(9,"Regresar"),n.Qb(),n.Rb(10,"table",3),n.Pb(11,4),n.uc(12,A,2,0,"th",5),n.uc(13,y,2,1,"td",6),n.Ob(),n.Pb(14,7),n.uc(15,O,2,0,"th",5),n.uc(16,S,3,2,"td",6),n.Ob(),n.Pb(17,8),n.uc(18,k,2,0,"th",5),n.uc(19,$,3,2,"td",6),n.Ob(),n.Pb(20,9),n.uc(21,N,2,0,"th",5),n.uc(22,j,3,2,"td",6),n.Ob(),n.Pb(23,10),n.uc(24,M,2,0,"th",5),n.uc(25,q,3,2,"td",6),n.Ob(),n.Pb(26,11),n.uc(27,B,2,0,"th",5),n.uc(28,_,3,2,"td",6),n.Ob(),n.Pb(29,12),n.uc(30,Y,2,0,"th",5),n.uc(31,E,3,2,"td",6),n.Ob(),n.Pb(32,13),n.uc(33,T,2,0,"th",5),n.uc(34,Z,3,2,"td",6),n.Ob(),n.Pb(35,14),n.uc(36,tt,2,0,"th",5),n.uc(37,et,3,0,"td",6),n.Ob(),n.uc(38,it,1,0,"tr",15),n.uc(39,at,1,0,"tr",16),n.Qb(),n.Qb(),n.Qb()),2&t&&(n.Ab(7),n.hc("formControl",e.searchFiel),n.Ab(3),n.hc("dataSource",e.Arrayrutaxdias),n.Ab(28),n.hc("matHeaderRowDef",e.displayedColumns),n.Ab(1),n.hc("matRowDefColumns",e.displayedColumns))},directives:[d.a,d.d,d.f,d.c,f.b,f.e,D.a,r.b,r.k,r.e,g.b,C.j,C.c,C.e,C.b,C.g,C.i,C.d,C.a,a.k,C.f,C.h],styles:[""]}),t})()}];let ot=(()=>{class t{}return t.\u0275mod=n.Jb({type:t}),t.\u0275inj=n.Ib({factory:function(e){return new(e||t)},imports:[[c.d.forChild(rt)],c.d]}),t})(),ct=(()=>{class t{}return t.\u0275mod=n.Jb({type:t}),t.\u0275inj=n.Ib({factory:function(e){return new(e||t)},imports:[[a.c,r.n,o.a,ot]]}),t})()}}]);